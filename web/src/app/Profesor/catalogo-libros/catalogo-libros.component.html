
<div class="catalogo-libros">
  <div class="row justify-content-center">
    <div class="col-md-12 text-center">
      <h1>Catálogo de Libros</h1>
    </div>
  </div>
  <div>
    <button type="button" routerLink="/profe/formulario" class="button-anadir">Añadir Libro</button>
  </div>
  <br>
    <div class="row libros">
      <div class="pagination-buttons mt-4 text-center">
        <button (click)="setPage(currentPage - 1)" [disabled]="currentPage === 1" class="btn btn-primary">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </button>
        <span class="page-info">Pagina {{ currentPage }} de {{ totalPages }}</span>
        <button (click)="setPage(currentPage + 1)" [disabled]="currentPage === totalPages" class="btn btn-primary">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </button>
      </div>
      <div class="row">
      @for (libro of getPaginatedLibros(); track libro) {
        <div class="col-md-4 mb-3">
         <div class="card">
      <div class="card-body text-center"> 
        <p class="card-title">{{ libro.titulo | slice:0:25 }}</p>
        <p class="card-text">Autor: {{ libro.autor  | slice:0:20 }}</p>
        <p class="card-text">Carrera: {{ libro.carrera }}</p>
        
        <img class="card-img-top mx-auto" [src]="libro.imagen" (error)="eror_carga_imagen(libro)" alt="Portada" style="height: 200px; width: 150px;">
        <div class="text-center mt-3">
          <button type="button" (click)="descarga(libro.nombre_archivo,libro.id_libro)" class="btn btn-primary">Descargar</button>
        </div>
        <div class="text-center mt-3">
          <button class="btn btn-danger" (click)="libro.id_libro !== undefined ? borrar(libro.id_libro.toString()) : null">
            Eliminar
          </button>
          <div class="mt-2">
            <p style="display: inline-block; margin-right: 10px;">Descargas:</p>
            <div class="descargas-circulo bg-info text-white rounded-circle">
              <p style="margin: 0;">{{libro.total_descargas}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

          }
        </div>
          <div class="pagination-buttons mt-4 text-center">
            <button (click)="setPage(currentPage - 1)" [disabled]="currentPage === 1" class="btn btn-primary">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <span class="page-info">Pagina {{ currentPage }} de {{ totalPages }}</span>
            <button (click)="setPage(currentPage + 1)" [disabled]="currentPage === totalPages" class="btn btn-primary">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
          </div>
        </div>
